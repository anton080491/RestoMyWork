{"version":3,"sources":["components/app-header/shopping-cart-solid.svg","components/app/food-bg.jpg","components/menu-list-item/index.js","components/menu-list-item/menu-list-item.js","components/resto-service-context/index.js","components/resto-service-context/resto-service-context.js","components/hoc/index.js","components/hoc/with-resto-service.js","actions/index.js","components/error/index.js","components/error/error.js","components/spinner/index.js","components/spinner/spinner.js","components/menu-list/menu-list.js","components/menu-list/index.js","components/pages/main-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/pages/ItemPage.js","components/app-header/index.js","components/app-header/app-header.js","components/app/index.js","components/app/app.js","reducers/index.js","store.js","components/error-boundry/error-boundry.js","index.js","services/resto-service.js"],"names":["module","exports","__webpack_require__","p","MenuListItem","_ref","menuItem","onAddToCart","title","price","url","category","id","react_default","a","createElement","key","className","react_router_dom","to","concat","src","alt","onClick","RestoServiceContext","React","createContext","WithRestoService","Wraped","props","components_resto_service_context","Consumer","RestoService","Object","assign","menuLoaded","newMenu","type","payload","menuRequested","menuError","deleteFromCart","Error","Spinner","MenuList","_this","this","getMenuItems","then","items","catch","error","_this$props","menuItems","loading","components_spinner","components_error","map","components_menu_list_item","menu_list_View","Component","View","connect","state","menu","actions","MainPage","components_menu_list","generateOrder","item","qtty","CartTable","_ref2","length","Fragment","setOrder","CartPage","components_cart_table","ItemPage","res","_this2","find","elem","match","params","AppHeader","totalPrice","cartIcon","App","style","background","Background","components_app_header","react_router","path","component","exact","initialState","reducer","arguments","undefined","action","objectSpread","itemIndex","findIndex","itemInState","newItem","toConsumableArray","slice","idn","itemIdx","store","createStore","ErrorBoundry","setState","children","restoService","getResource","_callee","response","regenerator_default","wrap","_context","prev","next","fetch","sent","ok","json","abrupt","stop","_callee2","_context2","_callee3","obj","_context3","method","headers","Content-Type","body","JSON","stringify","ReactDOM","render","es","error_boundry_ErrorBoundry","Provider","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.f4bcccb7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/shopping-cart-solid.701d6d1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/food-bg.698e5e80.jpg\";","import MenuListItem from './menu-list-item';\nexport default MenuListItem;","import React from 'react';\nimport './menu-list-item.scss';\nimport { Link } from 'react-router-dom';\n\nconst MenuListItem = ({menuItem,onAddToCart}) => {\n\n    const {title, price, url, category, id} = menuItem;\n\n    return (\n            <li key={id} className=\"menu__item\">\n                 <Link to = {`/${id}`}>\n                <div className=\"menu__title\">{title}</div>\n                <img className=\"menu__img\" src={url} alt={title}></img>\n                <div className=\"menu__category\">{category}: <span>salads</span></div>\n                <div className=\"menu__price\">Price: <span>{price}$</span></div>\n                </Link>\n                <button className=\"menu__btn\" onClick={()=>onAddToCart()}>Add to cart</button>\n                \n            </li>\n    )\n}\n\nexport default MenuListItem;","import RestoServiceContext from './resto-service-context';\n\nexport default RestoServiceContext;","import React from 'react';\r\n\r\nconst RestoServiceContext = React.createContext();\r\nexport default RestoServiceContext;","import WithRestoService from './with-resto-service';\n\nexport default WithRestoService;","import React from 'react';\nimport RestoServiceContext from '../resto-service-context';\n\nconst WithRestoService = () => (Wraped) => {\n    return (props) =>{\n        return(\n            <RestoServiceContext.Consumer>\n                {\n                    (RestoService)=>{\n                        return <Wraped {...props} RestoService={RestoService} />\n                    }\n                }\n            </RestoServiceContext.Consumer>\n        )\n    }\n};\n\nexport default WithRestoService;","const menuLoaded = (newMenu)=>{\r\n    return {\r\n        type: 'MENU_LOADED',\r\n        payload: newMenu\r\n    }\r\n}\r\n\r\nconst menuRequested = ()=>{\r\n    return {\r\n        type: 'MENU_REQUESTED'\r\n    }\r\n}\r\n\r\nconst menuError = ()=>{\r\n    return {\r\n        type: 'MENU_ERROR'\r\n    }\r\n}\r\n\r\nconst onAddToCart = (id)=>{\r\n    return{\r\n        type:'ITEM_ADD_TO_CART',\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst deleteFromCart = (id)=>{\r\n    return {\r\n        type:'ITEM_REMOVE_FROM_CART',\r\n        payload: id\r\n    }\r\n}\r\n\r\nexport {\r\n    menuLoaded,\r\n    menuRequested,\r\n    menuError,\r\n    onAddToCart,\r\n    deleteFromCart\r\n};","import Error from './error';\n\nexport default Error;","import React from 'react';\n\nconst Error = () => {\n    return <div className=\"error\">Error</div>\n}\n\nexport default Error;","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nconst Spinner = () => {\n    return <div className=\"spinner\">loading...</div>\n}\n\nexport default Spinner;","import React, {Component} from 'react';\nimport MenuListItem from '../menu-list-item';\nimport { connect } from 'react-redux';\nimport WithRestoService from '../hoc';\nimport * as actions from '../../actions';\nimport Error from '../error';\nimport Spinner from '../spinner';\n\n\nimport './menu-list.scss';\n\nclass MenuList extends Component {\n\n    componentDidMount(){\n        this.props.menuRequested();\n\n        const {RestoService} = this.props;\n\n        RestoService.getMenuItems()\n        .then(items => this.props.menuLoaded(items))\n        .catch(error=> this.props.menuError())\n\n    }\n\n    render() {\n\n        const {menuItems, error,loading,onAddToCart} = this.props;\n\n        if (loading){\n            return <Spinner/>\n        }\n\n        if (error){\n            return <Error/>\n        }\n\n         const items = menuItems.map(menuItem=>{\n            return (\n                    <MenuListItem key={menuItem.id}  menuItem={menuItem} onAddToCart={()=>onAddToCart(menuItem.id)}/>\n            )\n         })\n\n        return (\n            <View items={items}/>\n        )\n    }\n};\n\nconst View =({items})=>{\n    return(\n        <ul className=\"menu__list\">\n            {items}\n        </ul>\n    )\n}\n\nconst mapStateToProps=(state)=>{\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n}\n\n// const mapDispatchToProps={\n//     menuLoaded, menuRequested, menuError \n// }\n\nexport default WithRestoService()(connect(mapStateToProps,actions)(MenuList));","import MenuList from './menu-list';\nexport default MenuList;","import React from 'react';\nimport MenuList from '../menu-list';\n\nconst MainPage = () => {\n    return (\n        <MenuList/>\n    )\n}\n\nexport default MainPage;\n","import React from 'react';\nimport './cart-table.scss';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport WithRestoService from '../hoc';\n\n\nconst CartTable = ({items,deleteFromCart,RestoService}) => {\n\n    if(items.length === 0){\n        return <div className=\"cart__title\">Корзина пуста=(</div>\n    }\n\n    return (\n        <>\n            <div className=\"cart__title\">Ваш заказ:</div>\n            <div className=\"cart__list\">\n                {\n                    items.map(item=>{\n                        const {url, price, title, id, qtty} = item;\n                        return (\n                            <div key={id} className=\"cart__item\">\n                                <img src={url} className=\"cart__item-img\" alt={title}></img>\n                                <div className=\"cart__item-title\">{title}</div>\n                                <div className=\"cart__item-price\">{price}$*{qtty}</div>\n                                <div className=\"cart__close\" onClick={()=>deleteFromCart(id) }>&times;</div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n            <button onClick = {() => {RestoService.setOrder( generateOrder(items))} } className = \"order\">Оформить заказ</button>\n        </>\n    );\n};\n\nconst generateOrder = (items) =>{\nconst newOrder = items.map(item=>{\n    return{\n        id:item.id,\n        qtty: item.qtty\n    }\n})\nreturn newOrder;\n}\n\nconst mapStateToProps=({items})=>{\n    return{\n        items\n    }\n}\n\nexport default WithRestoService()(connect (mapStateToProps,actions)(CartTable));","import CartTable from './cart-table';\n\nexport default CartTable;","import React from 'react';\nimport CartTable from '../cart-table';\n\nconst CartPage = () => {\n    return (\n        <div className=\"cart\"> \n            <CartTable/>\n        </div>\n    )\n}\n\nexport default CartPage;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../actions';\r\nimport WithRestoService from '../hoc';\r\nimport Error from '../error';\r\nimport Spinner from '../spinner';\r\n\r\nimport './itemPage.scss';\r\n\r\nclass ItemPage extends Component{\r\n\r\n    componentDidMount(){\r\n\r\n        if (this.props.menuItems.length ===0){\r\n\r\n            this.props.menuRequested();\r\n\r\n            const {RestoService} = this.props;\r\n            RestoService.getMenuItems()\r\n            .then(res=>this.props.menuLoaded(res))\r\n            .catch(error=>this.props.menuError())\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        const {menuItems, loading, error,onAddToCart} = this.props;\r\n\r\n        if (loading){\r\n            return <Spinner/>\r\n        }\r\n\r\n        if (error){\r\n            return <Error/>\r\n        }\r\n\r\n        const item = menuItems.find(elem=> elem.id === +this.props.match.params.id)\r\n        const {title,url,category,price,id} = item;\r\n\r\n        return(\r\n            <div className='item-page'>\r\n                <li  key={id} className=\"menu__item\">\r\n                <div className=\"menu__title\">{title}</div>\r\n                <img className=\"menu__img\" src={url} alt={title}></img>\r\n                <div className=\"menu__category\">{category}: <span>salads</span></div>\r\n                <div className=\"menu__price\">Price: <span>{price}$</span></div>\r\n                <button className=\"menu__btn\" onClick={()=>onAddToCart(id)}>Add to cart</button>\r\n            </li>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        menuItems: state.menu,\r\n        loading: state.loading,\r\n        error: state.error\r\n    }\r\n}\r\n\r\n\r\nexport default WithRestoService()(connect(mapStateToProps, actions)(ItemPage));\r\n","import AppHeader from './app-header';\n\nexport default AppHeader;","import React from 'react';\nimport cartIcon from './shopping-cart-solid.svg';\nimport './app-header.scss';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AppHeader = ({totalPrice}) => {\n    return (\n        <header className=\"header\">\n            <Link to='/' className=\"header__link\">\n                Menu\n            </Link>\n            <Link to='/cart' className=\"header__link\">\n                <img className=\"header__cart\" src={cartIcon} alt=\"cart\"></img>\n                Total: {totalPrice} $\n            </Link>\n        </header>\n    )\n};\n\nconst mapStateToProps=({totalPrice})=>{\n    return{\n        totalPrice\n    }\n}\n\nexport default connect(mapStateToProps)(AppHeader);","import App from './app';\n\nexport default App;","import React from 'react';\nimport {MainPage, CartPage, ItemPage} from '../pages';\nimport AppHeader from '../app-header';\nimport {Switch, Route} from 'react-router-dom'; \nimport WithRestoService from '../hoc';\n\nimport Background from './food-bg.jpg';\n\nconst App = () => {\n    return (\n        <div style={{background: `url(${Background}) center center/cover no-repeat`}} className=\"app\">\n            <AppHeader/>\n            <Switch>\n                <Route path='/' component={MainPage} exact/>\n                <Route path='/cart' component={CartPage}/>\n                <Route path='/:id' component={ItemPage}/>\n            </Switch>\n        </div>\n    )\n}\n\nexport default WithRestoService()(App);","const initialState = {\r\n    menu:[],\r\n    loading: true,\r\n    error: false,\r\n    items: [],\r\n    totalPrice: 0\r\n}\r\n\r\n const reducer = (state = initialState, action) =>{\r\n    switch(action.type){\r\n        case 'MENU_LOADED':\r\n            return {\r\n                ...state,\r\n                menu: action.payload,\r\n                loading: false\r\n            };\r\n\r\n        case 'MENU_REQUESTED':\r\n        return {\r\n            ...state,\r\n            loading: true\r\n        };\r\n\r\n        case 'MENU_ERROR':\r\n            return {\r\n                ...state,\r\n                error: true\r\n            };\r\n\r\n        case 'ITEM_ADD_TO_CART':\r\n            const id = action.payload;\r\n\r\n            const itemIndex = state.items.findIndex(item=>item.id===id);\r\n            if(itemIndex >= 0){\r\n                const itemInState = state.items.find(item=>item.id===id);\r\n                const newItem = {\r\n                    ...itemInState,\r\n                    qtty: ++itemInState.qtty\r\n                }\r\n    \r\n                return{\r\n                    ...state,\r\n                    items:[\r\n                        ...state.items.slice(0,itemIndex),\r\n                    newItem,\r\n                    ...state.items.slice(itemIndex+1)\r\n                    ],\r\n                    totalPrice: state.totalPrice + newItem.price\r\n                }\r\n            }\r\n\r\n            const item = state.menu.find((item)=>item.id===id)\r\n\r\n            const newItem = {\r\n                title: item.title,\r\n                price: item.price,\r\n                url: item.url,\r\n                id: item.id,\r\n                qtty:1\r\n            }\r\n            return{\r\n                ...state,\r\n                items:[...state.items,\r\n                    newItem\r\n                ],\r\n                totalPrice: state.totalPrice + newItem.price\r\n            }\r\n\r\n        case 'ITEM_REMOVE_FROM_CART':\r\n            const idn = action.payload;\r\n\r\n            const itemIdx = state.items.findIndex(item=> item.id ===idn);\r\n\r\n            return{\r\n                ...state,\r\n                items:[\r\n                    ...state.items.slice(0,itemIdx),\r\n                    ...state.items.slice(itemIdx+1)\r\n                ],\r\n                totalPrice: state.totalPrice - (state.items[itemIdx].price * state.items[itemIdx].qtty)\r\n            }\r\n            default:\r\n                return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import {createStore} from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React, {Component} from 'react';\nimport Error from '../error';\n\nexport default class ErrorBoundry extends Component {\n\n    state = {\n        error: false\n    }\n\n    componentDidCatch(){\n        this.setState({error: true})\n    }\n\n    render() {\n\n        if (this.state.error){\n            return <Error/>\n        }\n       \n        return this.props.children;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport store from './store';\nimport ErrorBoundry from './components/error-boundry/error-boundry';\nimport RestoServiceContext from './components/resto-service-context';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport RestoService from './services/resto-service';\n\n\n\nimport './index.scss';\n\nconst restoService = new RestoService();\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <RestoServiceContext.Provider value={restoService}>\n                <Router>\n                    <App/>\n                </Router>\n            </RestoServiceContext.Provider>\n        </ErrorBoundry>\n    </Provider>\n    \n    , document.getElementById('root'));\n\n","export default class RestoService {\r\n    url = 'http://localhost:3000';\r\n\r\n    getResource = async (url) =>{\r\n        const response = await fetch (`${this.url}${url}`);\r\n        if (!response.ok){\r\n            throw new Error ('Server Error');\r\n        }\r\n\r\n        return await response.json();\r\n    }\r\n\r\n    getMenuItems = async ()=>{\r\n        return await this.getResource(`/menu/`);\r\n    }\r\n\r\n\r\n\r\n    setOrder = async (obj)=>{\r\n        const response = await fetch(`${this.url}/orders`, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(obj)\r\n        });\r\n        if (!response.ok){\r\n            throw new Error('json error'); \r\n        }\r\n    }\r\n    \r\n}"],"sourceRoot":""}